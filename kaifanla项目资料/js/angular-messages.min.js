(function(e,d,h){var c=d.isArray;var g=d.forEach;var a=d.isString;var b=d.element;d.module("ngMessages",[]).directive("ngMessages",["$animate",function(m){var i="ng-active";var l="ng-inactive";return{require:"ngMessages",restrict:"AE",controller:["$element","$scope","$attrs",function(v,u,t){var n=this;var w=0;var q=this.messages={};var p,o;this.render=function(A){A=A||{};p=false;o=A;var G=j(u,t.ngMessagesMultiple)||j(u,t.multiple);var y=[];var B={};var C=n.head;var z=false;var F=0;while(C!=null){F++;var E=C.message;var D=false;if(!z){g(A,function(I,H){if(!D&&k(I)&&E.test(H)){if(B[H]){return}B[H]=true;D=true;E.attach()}})}if(D){z=!G}else{y.push(E)}C=C.next}g(y,function(H){H.detach()});y.length!==F?m.setClass(v,i,l):m.setClass(v,l,i)};u.$watchCollection(t.ngMessages||t["for"],n.render);this.reRender=function(){if(!p){p=true;u.$evalAsync(function(){if(p){o&&n.render(o)}})}};this.register=function(A,z){var y=w.toString();q[y]={message:z};r(v[0],A,y);A.$$ngMessageNode=y;w++;n.reRender()};this.deregister=function(z){var y=z.$$ngMessageNode;delete z.$$ngMessageNode;s(v[0],z,y);delete q[y];n.reRender()};function x(B,C){var z=C;var y=[];while(z&&z!==B){var A=z.$$ngMessageNode;if(A&&A.length){return q[A]}if(z.childNodes.length&&y.indexOf(z)==-1){y.push(z);z=z.childNodes[z.childNodes.length-1]}else{z=z.previousSibling||z.parentNode}}}function r(B,C,z){var A=q[z];if(!n.head){n.head=A}else{var y=x(B,C);if(y){A.next=y.next;y.next=A}else{A.next=n.head;n.head=A}}}function s(B,C,z){var A=q[z];var y=x(B,C);if(y){y.next=A.next}else{n.head=A.next}}}]};function j(o,n){return(a(n)&&n.length===0)||k(o.$eval(n))}function k(n){return a(n)?n.length:!!n}}]).directive("ngMessagesInclude",["$templateRequest","$document","$compile",function(i,k,j){return{restrict:"AE",require:"^^ngMessages",link:function(l,n,m){var o=m.ngMessagesInclude||m.src;i(o).then(function(p){j(p)(l,function(r){n.after(r);var q=b(k[0].createComment(" ngMessagesInclude: "+o+" "));n.after(q);n.remove()})})}}}]).directive("ngMessage",f("AE")).directive("ngMessageExp",f("A"));function f(i){return["$animate",function(k){return{restrict:"AE",transclude:"element",terminal:true,require:"^^ngMessages",link:function(w,p,v,q,t){var m=p[0];var n;var s=v.ngMessage||v.when;var l=v.ngMessageExp||v.whenExp;var o=function(x){n=x?(c(x)?x:x.split(/[\s,]+/)):null;q.reRender()};if(l){o(w.$eval(l));w.$watchCollection(l,o)}else{o(s)}var r,u;q.register(m,u={test:function(x){return j(n,x)},attach:function(){if(!r){t(w,function(x){k.enter(x,null,p);r=x;r.on("$destroy",function(){if(r){q.deregister(m);u.detach()}})})}},detach:function(){if(r){var x=r;r=null;k.leave(x)}}})}}}];function j(l,k){if(l){return c(l)?l.indexOf(k)>=0:l.hasOwnProperty(k)}}}})(window,window.angular);