(function(aD,am,s){var L=aD.angular["$interpolateMinErr"];var ao=aD.angular["noop"],aw=aD.angular["isFunction"],aH=aD.angular["toJson"];function V(aN){if(aN==null){return""}switch(typeof aN){case"string":return aN;case"number":return""+aN;default:return aH(aN)}}function o(aR,aP){var aO=aR.split(/\n/g);for(var aQ=0;aQ<aO.length;aQ++){var aN=aO[aQ];if(aP>=aN.length){aP-=aN.length}else{return{line:aQ+1,column:aP+1}}}}var ad=Object.create(null);function j(aQ){var aN=ad[aQ];if(aN!=null){return aN}function aO(aR){return aQ}aO["$$watchDelegate"]=function aP(aT,aU,aS){var aV=aT["$watch"](ao,function aR(){if(aw(aU)){aU.call(null,aQ,aQ,aT)}aV()},aS);return aV};ad[aQ]=aO;aO.exp=aQ;aO.expressions=[];return aO}function aa(aR,aQ){if(aQ===0){return aR}function aN(aT){return(aT==void 0)?aT:aT-aQ}function aO(aT){return aN(aR(aT))}var aS;aO["$$watchDelegate"]=function aP(aV,aW,aT){aS=aV["$watch"](aR,function aU(aY,aX){if(aw(aW)){aW.call(null,aN(aY),aN(aX),aV)}},aT);return aS};return aO}function P(aP,aQ){var aN=this;this.expressionFn=aP;this.choices=aQ;if(aQ.other===void 0){throw L("reqother","“other” is a required option.")}this.parsedFn=function(aR){return aN.getResult(aR)};this.parsedFn["$$watchDelegate"]=function aO(aS,aT,aR){return aN.watchDelegate(aS,aT,aR)};this.parsedFn.exp=aP.exp;this.parsedFn.expressions=aP.expressions}P.prototype.getMessageFn=function an(aN){return this.choices[this.categorizeValue(aN)]};P.prototype.getResult=function ab(aN){return this.getMessageFn(this.expressionFn(aN))(aN)};P.prototype.watchDelegate=function l(aO,aQ,aN){var aP=new f(this,aO,aQ,aN);return function(){aP.cancelWatch()}};function f(aQ,aR,aS,aN){var aP=this;this.scope=aR;this.msgSelector=aQ;this.listener=aS;this.objectEquality=aN;this.lastMessage=void 0;this.messageFnWatcher=ao;var aO=function(aU,aT){return aP.expressionFnListener(aU,aT)};this.expressionFnWatcher=aR["$watch"](aQ.expressionFn,aO,aN)}f.prototype.expressionFnListener=function ax(aQ,aP){var aN=this;this.messageFnWatcher();var aO=function(aS,aT){return aN.messageFnListener(aS,aT)};var aR=this.msgSelector.getMessageFn(aQ);this.messageFnWatcher=this.scope["$watch"](aR,aO,this.objectEquality)};f.prototype.messageFnListener=function ai(aN,aO){if(aw(this.listener)){this.listener.call(null,aN,aN===aO?aN:this.lastMessage,this.scope)}this.lastMessage=aN};f.prototype.cancelWatch=function au(){this.expressionFnWatcher();this.messageFnWatcher()};function g(aN,aO){P.call(this,aN,aO)}function ac(){}ac.prototype=P.prototype;g.prototype=new ac();g.prototype.categorizeValue=function aJ(aN){return(this.choices[aN]!==void 0)?aN:"other"};function x(aP,aQ,aO,aN){P.call(this,aP,aQ);this.offset=aO;this.pluralCat=aN}function p(){}p.prototype=P.prototype;x.prototype=new p();x.prototype.categorizeValue=function az(aO){if(isNaN(aO)){return"other"}else{if(this.choices[aO]!==void 0){return aO}else{var aN=this.pluralCat(aO-this.offset);return(this.choices[aN]!==void 0)?aN:"other"}}};function k(aN,aO){this.trustedContext=aN;this.allOrNothing=aO;this.textParts=[];this.expressionFns=[];this.expressionIndices=[];this.partialText="";this.concatParts=null}k.prototype.flushPartialText=function B(){if(this.partialText){if(this.concatParts==null){this.textParts.push(this.partialText)}else{this.textParts.push(this.concatParts.join(""));this.concatParts=null}this.partialText=""}};k.prototype.addText=function C(aN){if(aN.length){if(!this.partialText){this.partialText=aN}else{if(this.concatParts){this.concatParts.push(aN)}else{this.concatParts=[this.partialText,aN]}}}};k.prototype.addExpressionFn=function a(aN){this.flushPartialText();this.expressionIndices.push(this.textParts.length);this.expressionFns.push(aN);this.textParts.push("")};k.prototype.getExpressionValues=function aB(aP){var aN=new Array(this.expressionFns.length);for(var aO=0;aO<this.expressionFns.length;aO++){aN[aO]=this.expressionFns[aO](aP)}return aN};k.prototype.getResult=function ab(aO){for(var aP=0;aP<this.expressionIndices.length;aP++){var aN=aO[aP];if(this.allOrNothing&&aN===void 0){return}this.textParts[this.expressionIndices[aP]]=aN}return this.textParts.join("")};k.prototype.toParsedFn=function d(aN,aS){var aO=this;this.flushPartialText();if(aN&&this.expressionFns.length===0){return void 0}if(this.textParts.length===0){return j("")}if(this.trustedContext&&this.textParts.length>1){L.throwNoconcat(aS)}if(this.expressionFns.length===0){if(this.textParts.length!=1){this.errorInParseLogic()}return j(this.textParts[0])}var aR=function(aT){return aO.getResult(aO.getExpressionValues(aT))};aR["$$watchDelegate"]=function aQ(aU,aV,aT){return aO.watchDelegate(aU,aV,aT)};aR.exp=aS;aR.expressions=new Array(this.expressionFns.length);for(var aP=0;aP<this.expressionFns.length;aP++){aR.expressions[aP]=this.expressionFns[aP]["exp"]}return aR};k.prototype.watchDelegate=function l(aP,aQ,aN){var aO=new aE(this,aP,aQ,aN);return function(){aO.cancelWatch()}};function aE(aQ,aP,aR,aN){this.interpolationParts=aQ;this.scope=aP;this.previousResult=(void 0);this.listener=aR;var aO=this;this.expressionFnsWatcher=aP["$watchGroup"](aQ.expressionFns,function(aT,aS){aO.watchListener(aT,aS)})}aE.prototype.watchListener=function y(aP,aO){var aN=this.interpolationParts.getResult(aP);if(aw(this.listener)){this.listener.call(null,aN,aP===aO?aN:this.previousResult,this.scope)}this.previousResult=aN};aE.prototype.cancelWatch=function au(){this.expressionFnsWatcher()};function aL(aN,aO){aO.expressionFn=aN.expressionFn;aO.expressionMinusOffsetFn=aN.expressionMinusOffsetFn;aO.pluralOffset=aN.pluralOffset;aO.choices=aN.choices;aO.choiceKey=aN.choiceKey;aO.interpolationParts=aN.interpolationParts;aO.ruleChoiceKeyword=aN.ruleChoiceKeyword;aO.msgStartIndex=aN.msgStartIndex;aO.expressionStartIndex=aN.expressionStartIndex}function Z(aN){aL(aN,this)}function ae(aU,aT,aR,aQ,aN,aO,aP,aS){this.text=aU;this.index=aT||0;this.$parse=aR;this.pluralCat=aQ;this.stringifier=aN;this.mustHaveExpression=!!aO;this.trustedContext=aP;this.allOrNothing=!!aS;this.expressionFn=null;this.expressionMinusOffsetFn=null;this.pluralOffset=null;this.choices=null;this.choiceKey=null;this.interpolationParts=null;this.msgStartIndex=null;this.nestedStateStack=[];this.parsedFn=null;this.rule=null;this.ruleStack=null;this.ruleChoiceKeyword=null;this.interpNestLevel=null;this.expressionStartIndex=null;this.stringStartIndex=null;this.stringQuote=null;this.stringInterestsRe=null;this.angularOperatorStack=null;this.textPart=null}var e=new Z(new ae("",0,null,null,null,false,null,false));ae.prototype.pushState=function aq(){this.nestedStateStack.push(new Z(this));aL(e,this)};ae.prototype.popState=function aF(){if(this.nestedStateStack.length===0){this.errorInParseLogic()}var aN=this.nestedStateStack.pop();aL(aN,this)};ae.prototype.matchRe=function w(aP,aO){aP.lastIndex=this.index;var aN=aP.exec(this.text);if(aN!=null&&(aO===true||(aN.index==this.index))){this.index=aP.lastIndex;return aN}return null};ae.prototype.searchRe=function al(aN){return this.matchRe(aN,true)};ae.prototype.consumeRe=function z(aN){return !!this.matchRe(aN)};ae.prototype.run=function ay(aN){this.ruleStack=[aN];do{this.rule=this.ruleStack.pop();while(this.rule){this.rule()}this.assertRuleOrNull(this.rule)}while(this.ruleStack.length>0)};ae.prototype.errorInParseLogic=function aC(){throw L("logicbug","The messageformat parser has encountered an internal error.  Please file a github issue against the AngularJS project and provide this message text that triggers the bug.  Text: “{0}”",this.text)};ae.prototype.assertRuleOrNull=function aj(aN){if(aN===void 0){this.errorInParseLogic()}};var W=/\s*(\w+)\s*/g;ae.prototype.errorExpecting=function F(){var aO=this.matchRe(W),aN;if(aO==null){aN=o(this.text,this.index);throw L("reqarg","Expected one of “plural” or “select” at line {0}, column {1} of text “{2}”",aN.line,aN.column,this.text)}var aP=aO[1];if(aP=="select"||aP=="plural"){aN=o(this.text,this.index);throw L("reqcomma","Expected a comma after the keyword “{0}” at line {1}, column {2} of text “{3}”",aP,aN.line,aN.column,this.text)}else{aN=o(this.text,this.index);throw L("unknarg","Unsupported keyword “{0}” at line {0}, column {1}. Only “plural” and “select” are currently supported.  Text: “{3}”",aP,aN.line,aN.column,this.text)}};var ar=/['"]/g;ae.prototype.ruleString=function aG(){var aO=this.matchRe(ar);if(aO==null){var aN=o(this.text,this.index);throw L("wantstring","Expected the beginning of a string at line {0}, column {1} in text “{2}”",aN.line,aN.column,this.text)}this.startStringAtMatch(aO)};ae.prototype.startStringAtMatch=function O(aN){this.stringStartIndex=aN.index;this.stringQuote=aN[0];this.stringInterestsRe=this.stringQuote=="'"?ap:v;this.rule=this.ruleInsideString};var ap=/\\(?:\\|'|u[0-9A-Fa-f]{4}|x[0-9A-Fa-f]{2}|[0-7]{3}|\r\n|\n|[\s\S])|'/g;var v=/\\(?:\\|"|u[0-9A-Fa-f]{4}|x[0-9A-Fa-f]{2}|[0-7]{3}|\r\n|\n|[\s\S])|"/g;ae.prototype.ruleInsideString=function D(){var aO=this.searchRe(this.stringInterestsRe);if(aO==null){var aN=o(this.text,this.stringStartIndex);throw L("untermstr","The string beginning at line {0}, column {1} is unterminated in text “{2}”",aN.line,aN.column,this.text)}var aP=aO[0];if(aO==this.stringQuote){this.rule=null}};var N=/\s*(plural|select)\s*,\s*/g;ae.prototype.rulePluralOrSelect=function X(){var aO=this.searchRe(N);if(aO==null){this.errorExpecting()}var aN=aO[1];switch(aN){case"plural":this.rule=this.rulePluralStyle;break;case"select":this.rule=this.ruleSelectStyle;break;default:this.errorInParseLogic()}};ae.prototype.rulePluralStyle=function n(){this.choices=Object.create(null);this.ruleChoiceKeyword=this.rulePluralValueOrKeyword;this.rule=this.rulePluralOffset};ae.prototype.ruleSelectStyle=function u(){this.choices=Object.create(null);this.ruleChoiceKeyword=this.ruleSelectKeyword;this.rule=this.ruleSelectKeyword};var r=/[0]|(?:[1-9][0-9]*)/g;var av=new RegExp("\\s*offset\\s*:\\s*("+r.source+")","g");ae.prototype.rulePluralOffset=function Y(){var aN=this.matchRe(av);this.pluralOffset=(aN==null)?0:parseInt(aN[1],10);this.expressionMinusOffsetFn=aa(this.expressionFn,this.pluralOffset);this.rule=this.rulePluralValueOrKeyword};ae.prototype.assertChoiceKeyIsNew=function aM(aP,aO){if(this.choices[aP]!==void 0){var aN=o(this.text,aO);throw L("dupvalue","The choice “{0}” is specified more than once. Duplicate key is at line {1}, column {2} in text “{3}”",aP,aN.line,aN.column,this.text)}};var i=/\s*(\w+)/g;ae.prototype.ruleSelectKeyword=function q(){var aN=this.matchRe(i);if(aN==null){this.parsedFn=new g(this.expressionFn,this.choices).parsedFn;this.rule=null;return}this.choiceKey=aN[1];this.assertChoiceKeyIsNew(this.choiceKey,aN.index);this.rule=this.ruleMessageText};var U=new RegExp("\\s*(?:(?:=("+r.source+"))|(\\w+))","g");ae.prototype.rulePluralValueOrKeyword=function af(){var aN=this.matchRe(U);if(aN==null){this.parsedFn=new x(this.expressionFn,this.choices,this.pluralOffset,this.pluralCat).parsedFn;this.rule=null;return}if(aN[1]!=null){this.choiceKey=parseInt(aN[1],10)}else{this.choiceKey=aN[2]}this.assertChoiceKeyIsNew(this.choiceKey,aN.index);this.rule=this.ruleMessageText};var G=/\s*{/g;var at=/}/g;ae.prototype.ruleMessageText=function A(){if(!this.consumeRe(G)){var aN=o(this.text,this.index);throw L("reqopenbrace","The plural choice “{0}” must be followed by a message in braces at line {1}, column {2} in text “{3}”",this.choiceKey,aN.line,aN.column,this.text)}this.msgStartIndex=this.index;this.interpolationParts=new k(this.trustedContext,this.allOrNothing);this.rule=this.ruleInInterpolationOrMessageText};var H=/\\.|{{|}/g;var J=/\\.|{{|#|}/g;var T=/\\.|{{/g;ae.prototype.advanceInInterpolationOrMessageText=function E(){var aO=this.index,aP,aR;if(this.ruleChoiceKeyword==null){aP=this.searchRe(T);if(aP==null){this.textPart=this.text.substring(aO);this.index=this.text.length;return null}}else{aP=this.searchRe(this.ruleChoiceKeyword==this.rulePluralValueOrKeyword?J:H);if(aP==null){var aN=o(this.text,this.msgStartIndex);throw L("reqendbrace","The plural/select choice “{0}” message starting at line {1}, column {2} does not have an ending closing brace. Text “{3}”",this.choiceKey,aN.line,aN.column,this.text)}}var aQ=aP[0];this.textPart=this.text.substring(aO,aP.index);return aQ};ae.prototype.ruleInInterpolationOrMessageText=function h(){var aN=this.index;var aO=this.advanceInInterpolationOrMessageText();if(aO==null){this.index=this.text.length;this.interpolationParts.addText(this.text.substring(aN));this.rule=null;return}if(aO[0]=="\\"){this.interpolationParts.addText(this.textPart+aO[1]);return}this.interpolationParts.addText(this.textPart);if(aO=="{{"){this.pushState();this.ruleStack.push(this.ruleEndMustacheInInterpolationOrMessage);this.rule=this.ruleEnteredMustache}else{if(aO=="}"){this.choices[this.choiceKey]=this.interpolationParts.toParsedFn(false,this.text);this.rule=this.ruleChoiceKeyword}else{if(aO=="#"){this.interpolationParts.addExpressionFn(this.expressionMinusOffsetFn)}else{this.errorInParseLogic()}}}};ae.prototype.ruleInterpolate=function K(){this.interpolationParts=new k(this.trustedContext,this.allOrNothing);this.rule=this.ruleInInterpolation};ae.prototype.ruleInInterpolation=function aI(){var aN=this.index;var aO=this.searchRe(T);if(aO==null){this.index=this.text.length;this.interpolationParts.addText(this.text.substring(aN));this.parsedFn=this.interpolationParts.toParsedFn(this.mustHaveExpression,this.text);this.rule=null;return}var aP=aO[0];if(aP[0]=="\\"){this.interpolationParts.addText(this.text.substring(aN,aO.index)+aP[1]);return}this.interpolationParts.addText(this.text.substring(aN,aO.index));this.pushState();this.ruleStack.push(this.ruleInterpolationEndMustache);this.rule=this.ruleEnteredMustache};ae.prototype.ruleInterpolationEndMustache=function ah(){var aN=this.parsedFn;this.popState();this.interpolationParts.addExpressionFn(aN);this.rule=this.ruleInInterpolation};ae.prototype.ruleEnteredMustache=function c(){this.parsedFn=null;this.ruleStack.push(this.ruleEndMustache);this.rule=this.ruleAngularExpression};ae.prototype.ruleEndMustacheInInterpolationOrMessage=function I(){var aN=this.parsedFn;this.popState();this.interpolationParts.addExpressionFn(aN);this.rule=this.ruleInInterpolationOrMessageText};var M=/\s*}}/g;ae.prototype.ruleEndMustache=function ak(){var aO=this.matchRe(M);if(aO==null){var aN=o(this.text,this.index);throw L("reqendinterp","Expecting end of interpolation symbol, “{0}”, at line {1}, column {2} in text “{3}”","}}",aN.line,aN.column,this.text)}if(this.parsedFn==null){this.parsedFn=this.$parse(this.expressionFn,this.stringifier);this.parsedFn.exp=this.expressionFn.exp;this.parsedFn.expressions=this.expressionFn.expressions}this.rule=null};ae.prototype.ruleAngularExpression=function m(){this.angularOperatorStack=[];this.expressionStartIndex=this.index;this.rule=this.ruleInAngularExpression};function b(aN){switch(aN){case"{":return"}";case"[":return"]";case"(":return")";default:return null}}function S(aN){switch(aN){case"}":return"{";case"]":return"[";case")":return"(";default:return null}}var R=/[[\]{}()'",]/g;ae.prototype.ruleInAngularExpression=function Q(){var aS=this.index;var aR=this.searchRe(R);var aN;if(aR==null){if(this.angularOperatorStack.length===0){this.index=this.text.length;this.expressionFn=this.$parse(this.text.substring(this.expressionStartIndex,this.index));this.expressionFn.exp=this.text.substring(this.expressionStartIndex,this.index);this.expressionFn.expressions=this.expressionFn.expressions;this.rule=null;return}var aP=this.angularOperatorStack[0];throw L("badexpr","Unexpected end of Angular expression.  Expecting operator “{0}” at the end of the text “{1}”",this.getEndOperator(aP),this.text)}var aO=aR[0];if(aO=="'"||aO=='"'){this.ruleStack.push(this.ruleInAngularExpression);this.startStringAtMatch(aR);return}if(aO==","){if(this.trustedContext){aN=o(this.text,this.index);throw L("unsafe","Use of select/plural MessageFormat syntax is currently disallowed in a secure context ({0}).  At line {1}, column {2} of text “{3}”",this.trustedContext,aN.line,aN.column,this.text)}if(this.angularOperatorStack.length===0){this.expressionFn=this.$parse(this.text.substring(this.expressionStartIndex,aR.index));this.expressionFn.exp=this.text.substring(this.expressionStartIndex,aR.index);this.expressionFn.expressions=this.expressionFn.expressions;this.rule=null;this.rule=this.rulePluralOrSelect}return}if(b(aO)!=null){this.angularOperatorStack.unshift(aO);return}var aQ=S(aO);if(aQ==null){this.errorInParseLogic()}if(this.angularOperatorStack.length>0){if(aQ==this.angularOperatorStack[0]){this.angularOperatorStack.shift();return}aN=o(this.text,this.index);throw L("badexpr","Unexpected operator “{0}” at line {1}, column {2} in text. Was expecting “{3}”. Text: “{4}”",aO,aN.line,aN.column,b(this.angularOperatorStack[0]),this.text)}this.index=aR.index;this.expressionFn=this.$parse(this.text.substring(this.expressionStartIndex,this.index));this.expressionFn.exp=this.text.substring(this.expressionStartIndex,this.index);this.expressionFn.expressions=this.expressionFn.expressions;this.rule=null};var ag=["$parse","$locale","$sce","$exceptionHandler",function t(aS,aQ,aN,aR){function aO(aU,aV,aW){return function aT(aY){try{aY=aU?aN.getTrusted(aU,aY):aN.valueOf(aY);return aV&&(aY===void 0)?aY:V(aY)}catch(aX){aR(L.interr(aW,aX))}}}function aP(aX,aU,aV,aW){var aT=aO(aV,aW,aX);var aY=new ae(aX,0,aS,aQ.pluralCat,aT,aU,aV,aW);aY.run(aY.ruleInterpolate);return aY.parsedFn}return{interpolate:aP}}];var aA=["$$messageFormat","$delegate",function aA(aO,aP){if(aP.startSymbol()!="{{"||aP.endSymbol()!="}}"){throw L("nochgmustache","angular-message-format.js currently does not allow you to use custom start and end symbols for interpolation.")}var aN=aO.interpolate;aN.startSymbol=aP.startSymbol;aN.endSymbol=aP.endSymbol;return aN}];var aK=aD.angular["module"]("ngMessageFormat",["ng"]);aK.factory("$$messageFormat",ag);aK.config(["$provide",function(aN){aN.decorator("$interpolate",aA)}])})(window,window.angular);